{% extends "base.html.twig" %}
{% form_theme form 'bootstrap_4_layout.html.twig' %}
{% block body %}
<div class="userInformation">
<span>Chauffeur : {{ app.user.prenom}} {{ app.user.nom}}</span>
<span>Véhicule : {% for vehicule in app.user.vehicules %}
    {{vehicule.immatriculation}}
{% endfor %}</span>
<span>Téléphone : {{ app.user.telephone}}</span>
<a class="btn btn-danger" href="{{path('userDisconnect')}}">Se déconnecter</a>
</div>
<div class="sideBar">
    <button class="btn btn-secondary col-md-12 boutton startMyDayButton">Je commence ma journée</button>
    <button class="btn btn-secondary col-md-12 boutton makeScoreButton">Faire un pointage</button>
    <button class="btn btn-secondary col-md-12 boutton reportIncidentButton">Déclarer un incident</button>
    <button class="btn btn-secondary col-md-12 boutton changeVehicleButton">Changer de véhicule</button>
    <button class="btn btn-secondary col-md-12 boutton tourListButton">Liste de mes tournées du jour</button>
    <button class="btn btn-secondary col-md-12 boutton finishDayButton" type="submit">J'ai fini ma journée</button>
</div>
<div class="contentVariable"></div>
<div class="startMyDay">
{{ form_start(form) }}
{{ form_end(form)}}
</div>
<div class="makeScore">
{{ form_start(formMakeScore) }}
{{ form_end(formMakeScore) }}
</div>
<div class="reportIncident">
{{ form_start(formDeclareIncident) }}
{{ form_end(formDeclareIncident) }}
</div>
<div class="changeVehicle">4</div>
<div class="tourList">
<table class="table table-striped col-sm-12">
  <thead>
    <tr>
      <th scope="col">Numéro de livraison</th>
      <th scope="col">Libellé de la livraison</th>
      <th scope="col">Statut de la Livraison</th>
    </tr>
  </thead>
  <tbody>
{% for livraison in livraisons %}
    <tr>
      <th scope="row"> {{ livraison.id }} </th>
      <td> {{livraison.libelle }} </td>
      <td> {{ livraison.statut}} </td>
      <td> {% for pointage in livraison.pointages %}
          {{ pointage.utilisateur.prenom }}
      {% endfor %} </td>
    </tr>
{% endfor %}
</tbody>
</table>
<a class="btn btn-success" href="{{path('imprimer')}}">Imprimer la Liste</a>
</div>
   <script>
       $(document).ready(function(){
        // Commencer ma journée
         $('.startMyDayButton').click(function(){
             $('.contentVariable').html("")
             console.log($('.contentVariable').html($('.startMyDay').html()));
         })
        // Faire un pointage
         $('.makeScoreButton').click(function(){
             $('.contentVariable').html("")
             console.log($('.contentVariable').html($('.makeScore').html()));
         })
        // Declarer un incident
         $('.reportIncidentButton').click(function(){
             $('.contentVariable').html("")
             console.log($('.contentVariable').html($('.reportIncident').html()));
         })
        // Changer un véhicule
         $('.changeVehicleButton').click(function(){
             $('.contentVariable').html("")
             console.log($('.contentVariable').html($('.changeVehicle').html()));
         })
        // Liste de mes tournées
         $('.tourListButton').click(function(){
             $('.contentVariable').html("")
             console.log($('.contentVariable').html($('.tourList').html()));
         })
        // // J'ai fini ma tournée
        //  $('.finishDayButton').click(function(){
        //      $('.contentVariable').html("")
        //      console.log($('.contentVariable').html($('.finishDay').html()));
        //  })
       })
   </script>
{% endblock %}